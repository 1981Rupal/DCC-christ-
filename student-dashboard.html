<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard - Daily Coding Challenge</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="dashboard.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e6f7ff;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        /* App Layout */
        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: #4CAF50;
            color: white;
            padding: 20px 0;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .sidebar-header h2 {
            margin: 0;
            font-size: 24px;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }

        .sidebar-menu li {
            padding: 0;
            margin: 5px 0;
        }

        .sidebar-menu li a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: white;
            text-decoration: none;
            transition: background-color 0.3s;
            cursor: pointer;
        }

        .sidebar-menu li a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .sidebar-menu li.active a {
            background-color: rgba(255, 255, 255, 0.2);
            font-weight: 600;
        }

        .sidebar-menu .icon {
            margin-right: 10px;
            font-size: 18px;
        }

        .sidebar-menu li.logout {
            margin-top: 50px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        /* Header */
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .content-header h1 {
            margin: 0;
            font-size: 24px;
            color: #4CAF50;
        }

        .user-info {
            display: flex;
            align-items: center;
        }

        .user-info span {
            margin-right: 10px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            background-color: #4CAF50;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Cards */
        .card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            padding: 25px;
            margin-bottom: 20px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .card-header h2 {
            margin: 0;
            color: #333;
            font-size: 20px;
        }

        /* Challenge Cards */
        .challenge-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .challenge-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .challenge-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .challenge-card h3 {
            margin-top: 0;
            color: #4CAF50;
        }

        .challenge-card .difficulty {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .difficulty.easy {
            background-color: #e8f5e9;
            color: #4CAF50;
        }

        .difficulty.medium {
            background-color: #fff8e1;
            color: #ffa000;
        }

        .difficulty.hard {
            background-color: #ffebee;
            color: #e53935;
        }

        .challenge-card .btn {
            margin-top: 15px;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 500;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s;
            border: none;
            text-decoration: none;
        }

        .btn-primary {
            background-color: #4CAF50;
            color: white;
        }

        .btn-primary:hover {
            background-color: #3e8e41;
        }

        .btn-secondary {
            background-color: #f1f1f1;
            color: #333;
        }

        .btn-secondary:hover {
            background-color: #e0e0e0;
        }

        /* Progress Section */
        .progress-container {
            margin-bottom: 30px;
        }

        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background-color: #4CAF50;
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            padding: 20px;
            text-align: center;
        }

        .stat-card .icon {
            font-size: 24px;
            color: #4CAF50;
            margin-bottom: 10px;
        }

        .stat-card .number {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin: 10px 0;
        }

        .stat-card .label {
            color: #666;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>DCC</h2>
                <p>Student Portal</p>
            </div>
            <ul class="sidebar-menu">
                <li class="active">
                    <a href="#" data-tab="dashboard-tab">
                        <i class="icon fas fa-home"></i>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="#" data-tab="challenges-tab">
                        <i class="icon fas fa-code"></i>
                        Challenges
                    </a>
                </li>
                <li>
                    <a href="#" data-tab="submissions-tab">
                        <i class="icon fas fa-file-code"></i>
                        My Submissions
                    </a>
                </li>
                <li>
                    <a href="#" data-tab="leaderboard-tab">
                        <i class="icon fas fa-trophy"></i>
                        Leaderboard
                    </a>
                </li>
                <li>
                    <a href="student-profile.html">
                        <i class="icon fas fa-user"></i>
                        Profile
                    </a>
                </li>
                <li class="logout">
                    <a href="#" id="logout-btn">
                        <i class="icon fas fa-sign-out-alt"></i>
                        Logout
                    </a>
                </li>
            </ul>
        </div>
        
        <div class="main-content">
            <div class="content-header">
                <h1>Student Dashboard</h1>
                <div class="user-info">
                    <span id="user-name">Student Name</span>
                    <div class="avatar">S</div>
                </div>
            </div>
            
            <div class="tab-content active" id="dashboard-tab">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="icon"><i class="fas fa-check-circle"></i></div>
                        <div class="number" id="completed-challenges">0</div>
                        <div class="label">Completed Challenges</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon"><i class="fas fa-star"></i></div>
                        <div class="number" id="points-earned">0</div>
                        <div class="label">Points Earned</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon"><i class="fas fa-trophy"></i></div>
                        <div class="number" id="current-rank">0</div>
                        <div class="label">Current Rank</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon"><i class="fas fa-calendar-check"></i></div>
                        <div class="number" id="streak-days">0</div>
                        <div class="label">Day Streak</div>
                    </div>
                </div>
                
                <div class="card progress-container">
                    <div class="card-header">
                        <h2>Your Progress</h2>
                    </div>
                    <p>You've completed <span id="progress-percentage">0%</span> of all challenges</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-bar-fill" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h2>Today's Challenge</h2>
                    </div>
                    <div class="challenge-card" id="today-challenge">
                        <h3>CSS Selectors Challenge</h3>
                        <p>Identify the correct CSS selector syntax for targeting an element by its ID.</p>
                        <span class="difficulty easy">Easy</span>
                        <div class="challenge-meta">
                            <p><strong>Points:</strong> <span id="challenge-points">10</span></p>
                            <p><strong>Due:</strong> <span id="challenge-due">Today</span></p>
                        </div>
                        <a href="challenge.html" class="btn btn-primary">Start Challenge</a>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="challenges-tab">
                <div class="card">
                    <div class="card-header">
                        <h2>Available Challenges</h2>
                    </div>
                    <div class="challenge-grid" id="challenges-list">
                        <!-- Challenges will be loaded here -->
                        <div class="challenge-card">
                            <h3>JavaScript Basics</h3>
                            <p>Test your knowledge of JavaScript fundamentals.</p>
                            <span class="difficulty easy">Easy</span>
                            <p><strong>Points:</strong> 10</p>
                            <a href="challenge.html?id=1" class="btn btn-primary">Start Challenge</a>
                        </div>
                        <div class="challenge-card">
                            <h3>CSS Flexbox Layout</h3>
                            <p>Create a responsive layout using CSS Flexbox.</p>
                            <span class="difficulty medium">Medium</span>
                            <p><strong>Points:</strong> 20</p>
                            <a href="challenge.html?id=2" class="btn btn-primary">Start Challenge</a>
                        </div>
                        <div class="challenge-card">
                            <h3>API Integration</h3>
                            <p>Connect to an API and display the data.</p>
                            <span class="difficulty hard">Hard</span>
                            <p><strong>Points:</strong> 30</p>
                            <a href="challenge.html?id=3" class="btn btn-primary">Start Challenge</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="submissions-tab">
                <div class="card">
                    <div class="card-header">
                        <h2>My Submissions</h2>
                    </div>
                    <table class="submissions-table" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background-color: #f5f5f5; text-align: left;">
                                <th style="padding: 12px 15px;">Challenge</th>
                                <th style="padding: 12px 15px;">Submitted On</th>
                                <th style="padding: 12px 15px;">Status</th>
                                <th style="padding: 12px 15px;">Score</th>
                                <th style="padding: 12px 15px;">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="submissions-list">
                            <!-- Submissions will be loaded here -->
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 12px 15px;">CSS Selectors Challenge</td>
                                <td style="padding: 12px 15px;">2023-06-15</td>
                                <td style="padding: 12px 15px;"><span style="color: #4CAF50;">Graded</span></td>
                                <td style="padding: 12px 15px;">8/10</td>
                                <td style="padding: 12px 15px;"><a href="#" class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">View</a></td>
                            </tr>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 12px 15px;">JavaScript Basics</td>
                                <td style="padding: 12px 15px;">2023-06-14</td>
                                <td style="padding: 12px 15px;"><span style="color: #ffa000;">Pending</span></td>
                                <td style="padding: 12px 15px;">-</td>
                                <td style="padding: 12px 15px;"><a href="#" class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">View</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="tab-content" id="leaderboard-tab">
                <div class="card">
                    <div class="card-header">
                        <h2>Leaderboard</h2>
                    </div>
                    <table class="leaderboard-table" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background-color: #f5f5f5; text-align: left;">
                                <th style="padding: 12px 15px;">Rank</th>
                                <th style="padding: 12px 15px;">Student</th>
                                <th style="padding: 12px 15px;">Points</th>
                                <th style="padding: 12px 15px;">Challenges Completed</th>
                                <th style="padding: 12px 15px;">Streak</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboard-list">
                            <!-- Leaderboard will be loaded here -->
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 12px 15px;">1</td>
                                <td style="padding: 12px 15px;">John Doe</td>
                                <td style="padding: 12px 15px;">120</td>
                                <td style="padding: 12px 15px;">12</td>
                                <td style="padding: 12px 15px;">7 days</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 12px 15px;">2</td>
                                <td style="padding: 12px 15px;">Jane Smith</td>
                                <td style="padding: 12px 15px;">105</td>
                                <td style="padding: 12px 15px;">10</td>
                                <td style="padding: 12px 15px;">5 days</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #eee; background-color: #e8f5e9;">
                                <td style="padding: 12px 15px;">3</td>
                                <td style="padding: 12px 15px;">You</td>
                                <td style="padding: 12px 15px;">90</td>
                                <td style="padding: 12px 15px;">9</td>
                                <td style="padding: 12px 15px;">3 days</td>
                            </tr>
                        </tbody>
                     </table>
                 </div>
             </div>
         </div>
     </div>

     <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const userString = localStorage.getItem('user');
            if (!userString) {
                window.location.href = 'login.html';
                return;
            }

            const user = JSON.parse(userString);
            
            // Update user info
            document.getElementById('user-name').textContent = user.username;
            document.querySelector('.avatar').textContent = user.username.charAt(0).toUpperCase();
            
            // Set mock data for dashboard
            document.getElementById('completed-challenges').textContent = '9';
            document.getElementById('points-earned').textContent = '90';
            document.getElementById('current-rank').textContent = '3';
            document.getElementById('streak-days').textContent = '3';
            
            // Set progress
            const progressPercentage = 45;
            document.getElementById('progress-percentage').textContent = progressPercentage + '%';
            document.getElementById('progress-bar-fill').style.width = progressPercentage + '%';
            
            // Tab navigation
            const tabLinks = document.querySelectorAll('.sidebar-menu li a');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('href') && this.getAttribute('href') !== '#') {
                        return; // Allow normal navigation for links with real URLs
                    }
                    
                    e.preventDefault();
                    
                    // Remove active class from all tabs
                    tabLinks.forEach(l => l.parentElement.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to current tab
                    this.parentElement.classList.add('active');
                    
                    // Show corresponding content
                    const tabId = this.getAttribute('data-tab');
                    if (tabId) {
                        document.getElementById(tabId).classList.add('active');
                    }
                });
            });
            
            // Logout functionality
            document.getElementById('logout-btn').addEventListener('click', function(e) {
                e.preventDefault();
                localStorage.removeItem('user');
                window.location.href = 'login.html';
            });
        });
     </script>
                    </div>
                    <button class="btn-primary attempt-btn" data-id="1">Attempt Challenge</button>
                </div>
                
                <h2>Your Progress</h2>
                <div class="progress-stats">
                    <div class="stat-card">
                        <h3>Completed</h3>
                        <p>15 challenges</p>
                    </div>
                    <div class="stat-card">
                        <h3>Success Rate</h3>
                        <p>85%</p>
                    </div>
                    <div class="stat-card">
                        <h3>Rank</h3>
                        <p>#7 in class</p>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="challenges-tab">
                <h2>Available Challenges</h2>
                <div id="challenges-list">
                    <!-- Challenges will be loaded here -->
                </div>
            </div>
            
            <div class="tab-content" id="question-bank-tab">
                <h2>Question Bank</h2>
                <div id="questions-list">
                    <!-- Questions will be loaded here -->
                </div>
            </div>
            
            <div class="tab-content" id="leaderboard-tab">
                <h2>Leaderboard</h2>
                <table id="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Name</th>
                            <th>Completed</th>
                            <th>Points</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Leaderboard data will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Challenge Modal -->
    <div id="challenge-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-title">Challenge Title</h2>
            <p id="modal-description">Challenge description</p>
            <div id="modal-image-container"></div>
            
            <form id="submission-form">
                <h3>Your Solution</h3>
                <textarea id="solution-code" placeholder="Write your code here..."></textarea>
                
                <div class="file-upload">
                    <label for="submission-file">Upload Image/File (Optional)</label>
                    <input type="file" id="submission-file" accept="image/*,.pdf,.txt,.js,.html,.css">
                    <div id="file-preview" class="file-preview"></div>
                </div>
                
                <button type="submit" class="btn-primary">Submit Solution</button>
            </form>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab navigation
            const tabLinks = document.querySelectorAll('.sidebar-menu li');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabLinks.forEach(link => {
                link.addEventListener('click', function() {
                    // Remove active class from all tabs
                    tabLinks.forEach(l => l.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                    
                    // Load data for the tab
                    if (tabId === 'challenges') {
                        loadChallenges();
                    } else if (tabId === 'question-bank') {
                        loadQuestionBank();
                    } else if (tabId === 'leaderboard') {
                        loadLeaderboard();
                    }
                });
            });
            
            // Load challenges
            function loadChallenges() {
                const challengesList = document.getElementById('challenges-list');
                challengesList.innerHTML = '';
                
                // Sample challenges data (in a real app, fetch from API)
                const challenges = [
                    {
                        id: 1,
                        title: 'CSS Selectors Challenge',
                        description: 'Identify the correct CSS selector syntax for targeting an element by its ID.',
                        difficulty: 'Easy',
                        dueDate: 'May 17, 2023',
                        hasImage: false
                    },
                    {
                        id: 2,
                        title: 'JavaScript Functions',
                        description: 'Create a function that calculates the factorial of a number.',
                        difficulty: 'Medium',
                        dueDate: 'May 24, 2023',
                        hasImage: true,
                        imageUrl: 'https://via.placeholder.com/300x200'
                    }
                ];
                
                challenges.forEach(challenge => {
                    const card = document.createElement('div');
                    card.className = 'challenge-card';
                    card.innerHTML = `
                        <h3>${challenge.title}</h3>
                        <p>${challenge.description}</p>
                        ${challenge.hasImage ? `<img src="${challenge.imageUrl}" alt="${challenge.title}" style="max-width: 100%; margin: 10px 0;">` : ''}
                        <div class="challenge-meta">
                            <span>Due: ${challenge.dueDate}</span>
                            <span>Difficulty: ${challenge.difficulty}</span>
                        </div>
                        <button class="btn-primary attempt-btn" data-id="${challenge.id}">Attempt Challenge</button>
                    `;
                    challengesList.appendChild(card);
                });
                
                // Add event listeners to attempt buttons
                document.querySelectorAll('.attempt-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const challengeId = this.getAttribute('data-id');
                        openChallengeModal(challengeId);
                    });
                });
            }
            
            // Load question bank
            function loadQuestionBank() {
                const questionsList = document.getElementById('questions-list');
                questionsList.innerHTML = '';
                
                // Sample questions data (in a real app, fetch from API)
                const questions = [
                    {
                        id: 1,
                        title: 'HTML Basics',
                        description: 'Which element is used to get highlighted text in HTML5?',
                        difficulty: 'Easy',
                        hasImage: false
                    },
                    {
                        id: 2,
                        title: 'CSS Flexbox',
                        description: 'How do you create a flex container in CSS?',
                        difficulty: 'Medium',
                        hasImage: true,
                        imageUrl: 'https://via.placeholder.com/300x200'
                    }
                ];
                
                questions.forEach(question => {
                    const card = document.createElement('div');
                    card.className = 'challenge-card';
                    card.innerHTML = `
                        <h3>${question.title}</h3>
                        <p>${question.description}</p>
                        ${question.hasImage ? `<img src="${question.imageUrl}" alt="${question.title}" style="max-width: 100%; margin: 10px 0;">` : ''}
                        <div class="challenge-meta">
                            <span>Difficulty: ${question.difficulty}</span>
                        </div>
                        <button class="btn-secondary view-btn" data-id="${question.id}">View Details</button>
                    `;
                    questionsList.appendChild(card);
                });
            }
            
            // Load leaderboard
            function loadLeaderboard() {
                const leaderboardTable = document.getElementById('leaderboard-table').querySelector('tbody');
                leaderboardTable.innerHTML = '';
                
                // Sample leaderboard data (in a real app, fetch from API)
                const leaderboard = [
                    { rank: 1, name: 'Alex Johnson', completed: 25, points: 2450 },
                    { rank: 2, name: 'Sarah Williams', completed: 24, points: 2300 },
                    { rank: 3, name: 'Michael Brown', completed: 23, points: 2150 },
                    { rank: 4, name: 'Emily Davis', completed: 22, points: 2000 },
                    { rank: 5, name: 'David Wilson', completed: 21, points: 1950 },
                    { rank: 6, name: 'Lisa Miller', completed: 20, points: 1850 },
                    { rank: 7, name: 'Jane Smith', completed: 15, points: 1500 },
                    { rank: 8, name: 'Robert Taylor', completed: 14, points: 1400 },
                    { rank: 9, name: 'Jennifer Moore', completed: 13, points: 1300 },
                    { rank: 10, name: 'Daniel Anderson', completed: 12, points: 1200 }
                ];
                
                leaderboard.forEach(entry => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${entry.rank}</td>
                        <td>${entry.name}</td>
                        <td>${entry.completed}</td>
                        <td>${entry.points}</td>
                    `;
                    leaderboardTable.appendChild(row);
                });
            }
            
            // Challenge modal functionality
            const modal = document.getElementById('challenge-modal');
            const closeBtn = document.querySelector('.close');
            
            closeBtn.addEventListener('click', function() {
                modal.style.display = 'none';
            });
            
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
            
            // Open challenge modal
            function openChallengeModal(challengeId) {
                // In a real app, fetch challenge details from API
                const challenge = {
                    id: challengeId,
                    title: 'CSS Selectors Challenge',
                    description: 'Identify the correct CSS selector syntax for targeting an element by its ID. Write the selector and explain why it works.',
                    hasImage: true,
                    imageUrl: 'https://via.placeholder.com/500x300'
                };
                
                document.getElementById('modal-title').textContent = challenge.title;
                document.getElementById('modal-description').textContent = challenge.description;
                
                const imageContainer = document.getElementById('modal-image-container');
                if (challenge.hasImage) {
                    imageContainer.innerHTML = `<img src="${challenge.imageUrl}" alt="${challenge.title}" style="max-width: 100%; margin: 15px 0;">`;
                } else {
                    imageContainer.innerHTML = '';
                }
                
                // Set challenge ID for submission
                document.getElementById('submission-form').setAttribute('data-challenge-id', challengeId);
                
                // Show modal
                modal.style.display = 'block';
            }
            
            // File upload preview
            document.getElementById('submission-file').addEventListener('change', function() {
                const file = this.files[0];
                const preview = document.getElementById('file-preview');
                
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        if (file.type.startsWith('image/')) {
                            preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
                        } else {
                            preview.innerHTML = `<p>File selected: ${file.name}</p>`;
                        }
                    };
                    reader.readAsDataURL(file);
                } else {
                    preview.innerHTML = '';
                }
            });
            
            // Submission form
            document.getElementById('submission-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const challengeId = this.getAttribute('data-challenge-id');
                const solutionCode = document.getElementById('solution-code').value;
                const submissionFile = document.getElementById('submission-file').files[0];
                
                if (!solutionCode && !submissionFile) {
                    alert('Please provide a solution or upload a file.');
                    return;
                }
                
                // In a real app, upload file to server first if present
                if (submissionFile) {
                    // Create FormData object
                    const formData = new FormData();
                    formData.append('file', submissionFile);
                    formData.append('challengeId', challengeId);
                    
                    // Example of file upload to server
                    console.log('Uploading file...');
                    
                    // Simulate API call
                    setTimeout(() => {
                        console.log('File uploaded successfully!');
                        submitSolution(challengeId, solutionCode, 'file-url-from-server');
                    }, 1000);
                } else {
                    submitSolution(challengeId, solutionCode, null);
                }
            });
            
            // Submit solution
            function submitSolution(challengeId, solutionCode, fileUrl) {
                // In a real app, send to server
                console.log('Submitting solution for challenge', challengeId);
                console.log('Solution code:', solutionCode);
                console.log('File URL:', fileUrl);
                
                // Simulate submission
                setTimeout(() => {
                    alert('Solution submitted successfully!');
                    modal.style.display = 'none';
                    
                    // Reset form
                    document.getElementById('solution-code').value = '';
                    document.getElementById('submission-file').value = '';
                    document.getElementById('file-preview').innerHTML = '';
                }, 1000);
            }
            
            // Initialize dashboard
            document.getElementById('user-name').textContent = 'Jane Smith';
            
            // Logout functionality
            document.getElementById('logout-btn').addEventListener('click', function() {
                window.location.href = 'login.html';
            });
        });
    </script>
</body>
</html>